"use strict";(self.webpackChunkreact_geo_client_template=self.webpackChunkreact_geo_client_template||[]).push([[76],{44662:function(e,t,n){n.r(t),n.d(t,{BasicLayerTree:function(){return s}});var r=n(96540),a=n(96079),o=n(62976),i=n(94428);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const s=e=>{const t=(0,o.Ay)();return t?r.createElement(i.A,l({map:t,filterFunction:e=>!(e instanceof a.default)},e)):r.createElement(r.Fragment,null)};t.default=s},88033:function(e,t,n){var r=n(96540),a=n(65885),o=n(461),i=n(76421),l=n(42106),s=n(71956),c=n(34307),p=n(35598),u=n(13504),d=n(60031),m=n(83407),g=n(87896),f=n(82728),A=n(91765),h=n(40961),w=n(2896),y=n(59648),v=n.n(y),b=n(69941),E=n.n(b),I=n(84944),S=n(98097),L=n.n(S),O=n(38540),D=n.n(O),k=n(62976),T=n(38225);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}var M=e=>{const t=(0,k.Ay)();return t?r.createElement(T.Ay,P({map:t},e)):r.createElement(r.Fragment,null)},j=n(32389),N=n(73675),_=n(85072),C=n.n(_),R=n(97825),x=n.n(R),B=n(77659),F=n.n(B),z=n(55056),V=n.n(z),Y=n(10540),$=n.n(Y),U=n(41113),q=n.n(U),G=n(2676),K={};K.styleTagTransform=q(),K.setAttributes=V(),K.insert=F().bind(null,"head"),K.domAPI=x(),K.insertStyleElement=$();C()(G.A,K),G.A&&G.A.locals&&G.A.locals;function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}var Z=e=>{const t=(0,k.Ay)(),{t:n}=(0,j.Bd)();return t?r.createElement(N.Ay,Q({map:t,countryCodes:"",allowClear:!0,nominatimBaseUrl:"https://nominatim.terrestris.de/search.php?",placeholder:n("Nominatim.placeholder")},e)):r.createElement(r.Fragment,null)},H=n(25626);const J=()=>(0,w.wA)(),W=w.d4;var X=n(49879);const ee=(0,X.Z0)({name:"drawer",initialState:{visible:!1},reducers:{toggleVisibility:e=>{e.visible=!e.visible}}}),{toggleVisibility:te}=ee.actions;var ne=ee.reducer,re=n(48238),ae={};ae.styleTagTransform=q(),ae.setAttributes=V(),ae.insert=F().bind(null,"head"),ae.domAPI=x(),ae.insertStyleElement=$();C()(re.A,ae),re.A&&re.A.locals&&re.A.locals;function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}const ie=r.lazy((()=>Promise.all([n.e(255),n.e(76)]).then(n.bind(n,44662))));var le=e=>{const t=J(),n=W((e=>e.drawer.visible)),{t:a}=(0,j.Bd)();return r.createElement(H.A,oe({title:a("Drawer.title"),placement:"right",onClose:()=>{t(te())},open:n,mask:!1},e),r.createElement(r.Suspense,{fallback:null},r.createElement(ie,null)))},se=n(66188),ce=n(20982),pe=n(71953),ue=n(85885),de={};de.styleTagTransform=q(),de.setAttributes=V(),de.insert=F().bind(null,"head"),de.domAPI=x(),de.insertStyleElement=$();C()(ue.A,de),ue.A&&ue.A.locals&&ue.A.locals;var me=e=>{const t=J();return r.createElement(pe.A,{className:"toggle-drawer-button",onClick:()=>{t(te())},icon:r.createElement(ce.g,{icon:se.ckx})})},ge=n(12809),fe={};fe.styleTagTransform=q(),fe.setAttributes=V(),fe.insert=F().bind(null,"head"),fe.domAPI=x(),fe.insertStyleElement=$();C()(ge.A,fe),ge.A&&ge.A.locals&&ge.A.locals;var Ae=()=>r.createElement("div",{className:"App"},r.createElement(M,null),r.createElement(Z,null),r.createElement(me,null),r.createElement(le,null)),he=n(72635),we=n(94997);he.Ay.use(we.A).use(j.r9).init({resources:{de:{translation:{Index:{applicationLoadErrorMessage:"Fehler beim Laden der Applikation",applicationLoadErrorDescription:"Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden. Die Standardkonfiguration wird stattdessen geladen.",errorMessage:"Fehler beim Laden der Applikation",errorDescription:"Aufgrund eines unerwarteten Fehlers konnte die Applikation nicht geladen werden. Bitte laden Sie die Seite erneut."},Nominatim:{placeholder:"Ortsname, StraÃŸenname, Stadtteilname, POI usw."},Drawer:{title:"Themen"}}},en:{translation:{Index:{applicationLoadErrorMessage:"Error while loading the application",applicationLoadErrorDescription:"The application with ID {{applicationId}} could not be loaded correctly. You're seeing the default application configuration.",errorMessage:"Error while loading the application",errorDescription:"An unexpected error occured while loading the application. Please try to reload the page."},Nominatim:{placeholder:"Place name, street name, district name, POI, etc."},Drawer:{title:"Layers"}}}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},supportedLngs:["de","en"]});var ye=he.Ay;const ve=(0,X.U1)({reducer:{drawer:ne}});var be=n(47002),Ee={};Ee.styleTagTransform=q(),Ee.setAttributes=V(),Ee.insert=F().bind(null,"head"),Ee.domAPI=x(),Ee.insertStyleElement=$();C()(be.A,Ee),be.A&&be.A.locals&&be.A.locals;const Ie=e=>{switch(e){case"en":default:return s.A;case"de":return l.A}},Se=async e=>{const t=new(D())({url:"/api/"}),n=new(L())({client:t});let r;try{r=await t.application().findOne(e)}catch(t){return v().error(`Error while loading application with ID ${e}: ${t}`),v().info("Loading the default map configuration."),a.A.error({message:ye.t("Index.applicationLoadErrorMessage"),description:ye.t("Index.applicationLoadErrorDescription",{applicationId:e}),duration:0}),Le()}const o=await n.parseMapView(r),i=await n.parseLayerTree(r);return new d.default({view:o,layers:i,controls:(0,c.N)({zoom:!1})})},Le=()=>{const e=new u.default({source:new g.A});e.set("name","OpenStreetMap");const t=new u.default({opacity:.5,source:new f.default({url:"https://neo.gsfc.nasa.gov/wms/wms",projection:"CRS:84",params:{LAYERS:"MOD_LSTD_CLIM_M"}})});t.set("name","Average Land Surface Temperature (Day)");const n=new u.default({opacity:.5,visible:!1,source:new f.default({url:"https://neo.gsfc.nasa.gov/wms/wms",projection:"CRS:84",params:{LAYERS:"MOD_LSTN_CLIM_M"}})});n.set("name","Average Land Surface Temperature (Night)");const r=new p.default({layers:[t,n]});r.set("name","NASA Earth Observations");const a=new p.default({layers:[e]});a.set("name","Background");const o=(0,m.fromLonLat)([0,40],"EPSG:3857");return new d.default({view:new A.default({center:o,zoom:0}),layers:[a,r],controls:(0,c.N)({zoom:!1})})};(async()=>{try{const e=await(async()=>{const e=E().getQueryParam(window.location.href,"applicationId");return e?(v().info(`Loading application with ID ${e}`),await Se(parseInt(e,10))):(v().info("No application ID given, will load the default map configuration."),Le())})();(0,h.render)(r.createElement(r.StrictMode,null,r.createElement(r.Suspense,{fallback:r.createElement("span",null)},r.createElement(i.default,{locale:Ie(ye.language)},r.createElement(w.Kq,{store:ve},r.createElement(I.default.Provider,{value:e},r.createElement(Ae,null)))))),document.getElementById("app"))}catch(e){v().error(e),(0,h.render)(r.createElement(r.StrictMode,null,r.createElement(o.A,{className:"error-boundary",message:ye.t("Index.errorMessage"),description:ye.t("Index.errorDescription"),type:"error",showIcon:!0})),document.getElementById("app"))}})()},12809:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i},2676:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i},48238:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i},85885:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i},47002:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i}}]);
//# sourceMappingURL=common.62ec2a745a1d46c463f2.js.map