"use strict";(self.webpackChunkreact_geo_client_template=self.webpackChunkreact_geo_client_template||[]).push([[312],{5292:function(e,t,n){n.r(t),n.d(t,{BasicLayerTree:function(){return c}});var r=n(11504),a=n(17984),o=n(22555),i=n(63680);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const c=e=>{const t=(0,o.cp)();return t?r.createElement(i.c,l({map:t,filterFunction:e=>!(e instanceof a.default)},e)):r.createElement(r.Fragment,null)};t.default=c},40060:function(e,t,n){var r=n(11504),a=n(10744),o=n(36224),i=n(18832),l=n(95192),c=n(30547),s=n(18e3),p=n(97480),u=n(88656),d=n(92648),m=n(24288),g=n(96104),f=n(21492),h=n(12452),w=n(97104),y=n(96800),v=n(15856),b=n.n(v),E=n(36864),I=n.n(E),S=n(90276),L=n(20524),O=n.n(L),A=n(70271),D=n.n(A),T=n(22555),k=n(40744);function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}var M=e=>{const t=(0,T.cp)();return t?r.createElement(k.cp,P({map:t},e)):r.createElement(r.Fragment,null)},j=n(70100),_=n(84248),C=n(14596),N=n.n(C),R=n(86520),x=n.n(R),F=n(36176),B=n.n(F),z=n(65120),V=n.n(z),Y=n(66808),G=n.n(Y),Q=n(61936),$=n.n(Q),U=n(52432),K={};K.styleTagTransform=$(),K.setAttributes=V(),K.insert=B().bind(null,"head"),K.domAPI=x(),K.insertStyleElement=G();N()(U.c,K),U.c&&U.c.locals&&U.c.locals;function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}var H=e=>{const t=(0,T.cp)(),{t:n}=(0,j.Gy)();return t?r.createElement(_.cp,q({map:t,countryCodes:"",allowClear:!0,nominatimBaseUrl:"https://nominatim.terrestris.de/search.php?",placeholder:n("Nominatim.placeholder")},e)):r.createElement(r.Fragment,null)},J=n(70776);const W=()=>(0,y.OY)(),X=y.w1;var Z=n(87132);const ee=(0,Z.is)({name:"drawer",initialState:{visible:!1},reducers:{toggleVisibility:e=>{e.visible=!e.visible}}}),{toggleVisibility:te}=ee.actions;var ne=ee.reducer,re=n(21948),ae={};ae.styleTagTransform=$(),ae.setAttributes=V(),ae.insert=B().bind(null,"head"),ae.domAPI=x(),ae.insertStyleElement=G();N()(re.c,ae),re.c&&re.c.locals&&re.c.locals;function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}const ie=r.lazy((()=>Promise.all([n.e(352),n.e(312)]).then(n.bind(n,5292))));var le=e=>{const t=W(),n=X((e=>e.drawer.visible)),{t:a}=(0,j.Gy)();return r.createElement(J.c,oe({title:a("Drawer.title"),placement:"right",onClose:()=>{t(te())},open:n,mask:!1},e),r.createElement(r.Suspense,{fallback:null},r.createElement(ie,null)))},ce=n(15896),se=n(76542),pe=n(59544),ue=n(16564),de={};de.styleTagTransform=$(),de.setAttributes=V(),de.insert=B().bind(null,"head"),de.domAPI=x(),de.insertStyleElement=G();N()(ue.c,de),ue.c&&ue.c.locals&&ue.c.locals;var me=e=>{const t=W();return r.createElement(pe.c,{className:"toggle-drawer-button",onClick:()=>{t(te())},icon:r.createElement(se.u,{icon:ce.mIU})})},ge=n(7644),fe={};fe.styleTagTransform=$(),fe.setAttributes=V(),fe.insert=B().bind(null,"head"),fe.domAPI=x(),fe.insertStyleElement=G();N()(ge.c,fe),ge.c&&ge.c.locals&&ge.c.locals;var he=()=>r.createElement("div",{className:"App"},r.createElement(M,null),r.createElement(H,null),r.createElement(me,null),r.createElement(le,null)),we=n(63924),ye=n(89204);we.cp.use(ye.c).use(j.K2).init({resources:{de:{translation:{Index:{applicationLoadErrorMessage:"Fehler beim Laden der Applikation",applicationLoadErrorDescription:"Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden. Die Standardkonfiguration wird stattdessen geladen.",errorMessage:"Fehler beim Laden der Applikation",errorDescription:"Aufgrund eines unerwarteten Fehlers konnte die Applikation nicht geladen werden. Bitte laden Sie die Seite erneut."},Nominatim:{placeholder:"Ortsname, StraÃŸenname, Stadtteilname, POI usw."},Drawer:{title:"Themen"}}},en:{translation:{Index:{applicationLoadErrorMessage:"Error while loading the application",applicationLoadErrorDescription:"The application with ID {{applicationId}} could not be loaded correctly. You're seeing the default application configuration.",errorMessage:"Error while loading the application",errorDescription:"An unexpected error occured while loading the application. Please try to reload the page."},Nominatim:{placeholder:"Place name, street name, district name, POI, etc."},Drawer:{title:"Layers"}}}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},supportedLngs:["de","en"]});var ve=we.cp;const be=(0,Z.eS)({reducer:{drawer:ne}});var Ee=n(17176),Ie={};Ie.styleTagTransform=$(),Ie.setAttributes=V(),Ie.insert=B().bind(null,"head"),Ie.domAPI=x(),Ie.insertStyleElement=G();N()(Ee.c,Ie),Ee.c&&Ee.c.locals&&Ee.c.locals;const Se=e=>{switch(e){case"en":default:return c.c;case"de":return l.c}},Le=async e=>{const t=new(D())({url:"/api/"}),n=new(O())({client:t});let r;try{r=await t.application().findOne(e)}catch(t){return b().error(`Error while loading application with ID ${e}: ${t}`),b().info("Loading the default map configuration."),a.c.error({message:ve.t("Index.applicationLoadErrorMessage"),description:ve.t("Index.applicationLoadErrorDescription",{applicationId:e}),duration:0}),Oe()}const o=await n.parseMapView(r),i=await n.parseLayerTree(r);return new d.default({view:o,layers:i,controls:(0,s.Q)({zoom:!1})})},Oe=()=>{const e=new u.default({source:new g.c});e.set("name","OpenStreetMap");const t=new u.default({opacity:.5,source:new f.default({url:"https://neo.gsfc.nasa.gov/wms/wms",projection:"CRS:84",params:{LAYERS:"MOD_LSTD_CLIM_M"}})});t.set("name","Average Land Surface Temperature (Day)");const n=new u.default({opacity:.5,visible:!1,source:new f.default({url:"https://neo.gsfc.nasa.gov/wms/wms",projection:"CRS:84",params:{LAYERS:"MOD_LSTN_CLIM_M"}})});n.set("name","Average Land Surface Temperature (Night)");const r=new p.default({layers:[t,n]});r.set("name","NASA Earth Observations");const a=new p.default({layers:[e]});a.set("name","Background");const o=(0,m.fromLonLat)([0,40],"EPSG:3857");return new d.default({view:new h.default({center:o,zoom:0}),layers:[a,r],controls:(0,s.Q)({zoom:!1})})};(async()=>{try{const e=await(async()=>{const e=I().getQueryParam(window.location.href,"applicationId");return e?(b().info(`Loading application with ID ${e}`),await Le(parseInt(e,10))):(b().info("No application ID given, will load the default map configuration."),Oe())})();(0,w.render)(r.createElement(r.StrictMode,null,r.createElement(r.Suspense,{fallback:r.createElement("span",null)},r.createElement(i.default,{locale:Se(ve.language)},r.createElement(y.C_,{store:be},r.createElement(S.default.Provider,{value:e},r.createElement(he,null)))))),document.getElementById("app"))}catch(e){b().error(e),(0,w.render)(r.createElement(r.StrictMode,null,r.createElement(o.c,{className:"error-boundary",message:ve.t("Index.errorMessage"),description:ve.t("Index.errorDescription"),type:"error",showIcon:!0})),document.getElementById("app"))}})()},7644:function(e,t,n){var r=n(25648),a=n.n(r),o=n(2312),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},52432:function(e,t,n){var r=n(25648),a=n.n(r),o=n(2312),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},21948:function(e,t,n){var r=n(25648),a=n.n(r),o=n(2312),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},16564:function(e,t,n){var r=n(25648),a=n.n(r),o=n(2312),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i},17176:function(e,t,n){var r=n(25648),a=n.n(r),o=n(2312),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.c=i}}]);
//# sourceMappingURL=common.86825e7c8bcccdbd2a21.js.map