"use strict";(self.webpackChunkreact_geo_client_template=self.webpackChunkreact_geo_client_template||[]).push([[76],{44662:function(e,t,n){n.r(t),n.d(t,{BasicLayerTree:function(){return s}});var r=n(96540),a=n(96079),o=n(62976),i=n(94428);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const s=e=>{const t=(0,o.Ay)();return t?r.createElement(i.A,l({map:t,filterFunction:e=>!(e instanceof a.default)},e)):r.createElement(r.Fragment,null)};t.default=s},88033:function(e,t,n){var r=n(96540),a=n(65885),o=n(461),i=n(76421),l=n(42106),s=n(71956),c=n(34307),p=n(35598),u=n(13504),d=n(60031),m=n(83407),g=n(87896),A=n(82728),f=n(91765),h=n(40961),w=n(2896),y=n(28559),v=n(50942),b=n(84944),E=n(98097),I=n.n(E),S=n(38540),L=n.n(S),O=n(62976),D=n(38225);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var T=e=>{const t=(0,O.Ay)();return t?r.createElement(D.Ay,k({map:t},e)):r.createElement(r.Fragment,null)},P=n(32389),M=n(73675),j=n(85072),N=n.n(j),_=n(97825),C=n.n(_),R=n(77659),x=n.n(R),B=n(55056),F=n.n(B),z=n(10540),V=n.n(z),Y=n(41113),$=n.n(Y),U=n(2676),q={};q.styleTagTransform=$(),q.setAttributes=F(),q.insert=x().bind(null,"head"),q.domAPI=C(),q.insertStyleElement=V();N()(U.A,q),U.A&&U.A.locals&&U.A.locals;function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}var K=e=>{const t=(0,O.Ay)(),{t:n}=(0,P.Bd)();return t?r.createElement(M.Ay,G({map:t,countryCodes:"",allowClear:!0,nominatimBaseUrl:"https://nominatim.terrestris.de/search.php?",placeholder:n("Nominatim.placeholder")},e)):r.createElement(r.Fragment,null)},Q=n(25626);const Z=()=>(0,w.wA)(),H=w.d4;var J=n(49879);const W=(0,J.Z0)({name:"drawer",initialState:{visible:!1},reducers:{toggleVisibility:e=>{e.visible=!e.visible}}}),{toggleVisibility:X}=W.actions;var ee=W.reducer,te=n(48238),ne={};ne.styleTagTransform=$(),ne.setAttributes=F(),ne.insert=x().bind(null,"head"),ne.domAPI=C(),ne.insertStyleElement=V();N()(te.A,ne),te.A&&te.A.locals&&te.A.locals;function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}const ae=r.lazy((()=>Promise.all([n.e(255),n.e(76)]).then(n.bind(n,44662))));var oe=e=>{const t=Z(),n=H((e=>e.drawer.visible)),{t:a}=(0,P.Bd)();return r.createElement(Q.A,re({title:a("Drawer.title"),placement:"right",onClose:()=>{t(X())},open:n,mask:!1},e),r.createElement(r.Suspense,{fallback:null},r.createElement(ae,null)))},ie=n(66188),le=n(20982),se=n(71953),ce=n(85885),pe={};pe.styleTagTransform=$(),pe.setAttributes=F(),pe.insert=x().bind(null,"head"),pe.domAPI=C(),pe.insertStyleElement=V();N()(ce.A,pe),ce.A&&ce.A.locals&&ce.A.locals;var ue=e=>{const t=Z();return r.createElement(se.A,{className:"toggle-drawer-button",onClick:()=>{t(X())},icon:r.createElement(le.g,{icon:ie.ckx})})},de=n(12809),me={};me.styleTagTransform=$(),me.setAttributes=F(),me.insert=x().bind(null,"head"),me.domAPI=C(),me.insertStyleElement=V();N()(de.A,me),de.A&&de.A.locals&&de.A.locals;var ge=()=>r.createElement("div",{className:"App"},r.createElement(T,null),r.createElement(K,null),r.createElement(ue,null),r.createElement(oe,null)),Ae=n(72635),fe=n(94997);Ae.Ay.use(fe.A).use(P.r9).init({resources:{de:{translation:{Index:{applicationLoadErrorMessage:"Fehler beim Laden der Applikation",applicationLoadErrorDescription:"Die Applikation mit der ID {{applicationId}} konnte nicht geladen werden. Die Standardkonfiguration wird stattdessen geladen.",errorMessage:"Fehler beim Laden der Applikation",errorDescription:"Aufgrund eines unerwarteten Fehlers konnte die Applikation nicht geladen werden. Bitte laden Sie die Seite erneut."},Nominatim:{placeholder:"Ortsname, StraÃŸenname, Stadtteilname, POI usw."},Drawer:{title:"Themen"}}},en:{translation:{Index:{applicationLoadErrorMessage:"Error while loading the application",applicationLoadErrorDescription:"The application with ID {{applicationId}} could not be loaded correctly. You're seeing the default application configuration.",errorMessage:"Error while loading the application",errorDescription:"An unexpected error occured while loading the application. Please try to reload the page."},Nominatim:{placeholder:"Place name, street name, district name, POI, etc."},Drawer:{title:"Layers"}}}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},supportedLngs:["de","en"]});var he=Ae.Ay;const we=(0,J.U1)({reducer:{drawer:ee}});var ye=n(47002),ve={};ve.styleTagTransform=$(),ve.setAttributes=F(),ve.insert=x().bind(null,"head"),ve.domAPI=C(),ve.insertStyleElement=V();N()(ye.A,ve),ye.A&&ye.A.locals&&ye.A.locals;const be=e=>{switch(e){case"en":default:return s.A;case"de":return l.A}},Ee=async e=>{const t=new(L())({url:"/api/"}),n=new(I())({client:t});let r;try{r=await t.application().findOne(e)}catch(t){return y.A.error(`Error while loading application with ID ${e}: ${t}`),y.A.info("Loading the default map configuration."),a.A.error({message:he.t("Index.applicationLoadErrorMessage"),description:he.t("Index.applicationLoadErrorDescription",{applicationId:e}),duration:0}),Ie()}const o=await n.parseMapView(r),i=await n.parseLayerTree(r);return new d.default({view:o,layers:i,controls:(0,c.N)({zoom:!1})})},Ie=()=>{const e=new u.default({source:new g.A});e.set("name","OpenStreetMap");const t=new u.default({opacity:.5,source:new A.default({url:"https://neo.gsfc.nasa.gov/wms/wms",projection:"CRS:84",params:{LAYERS:"MOD_LSTD_CLIM_M"}})});t.set("name","Average Land Surface Temperature (Day)");const n=new u.default({opacity:.5,visible:!1,source:new A.default({url:"https://neo.gsfc.nasa.gov/wms/wms",projection:"CRS:84",params:{LAYERS:"MOD_LSTN_CLIM_M"}})});n.set("name","Average Land Surface Temperature (Night)");const r=new p.default({layers:[t,n]});r.set("name","NASA Earth Observations");const a=new p.default({layers:[e]});a.set("name","Background");const o=(0,m.fromLonLat)([0,40],"EPSG:3857");return new d.default({view:new f.default({center:o,zoom:0}),layers:[a,r],controls:(0,c.N)({zoom:!1})})};(async()=>{try{const e=await(async()=>{const e=v.A.getQueryParam(window.location.href,"applicationId");return e?(y.A.info(`Loading application with ID ${e}`),await Ee(parseInt(e,10))):(y.A.info("No application ID given, will load the default map configuration."),Ie())})();(0,h.render)(r.createElement(r.StrictMode,null,r.createElement(r.Suspense,{fallback:r.createElement("span",null)},r.createElement(i.default,{locale:be(he.language)},r.createElement(w.Kq,{store:we},r.createElement(b.default.Provider,{value:e},r.createElement(ge,null)))))),document.getElementById("app"))}catch(e){y.A.error(e),(0,h.render)(r.createElement(r.StrictMode,null,r.createElement(o.A,{className:"error-boundary",message:he.t("Index.errorMessage"),description:he.t("Index.errorDescription"),type:"error",showIcon:!0})),document.getElementById("app"))}})()},12809:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i},2676:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i},48238:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i},85885:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i},47002:function(e,t,n){var r=n(71354),a=n.n(r),o=n(76314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i}}]);
//# sourceMappingURL=common.94946473013a80a32ce6.js.map